main {
    align-items: flex-start !important;

    .container {
        display: flex;
        flex-direction: column;
        min-height: 100%;
    }
}

.select a:nth-child(3) {
    background-color: #556;
}

.display {
    display: flex;
    flex-grow: 1;
    margin-top: 20px;

    span {
        display: flex;
        justify-content: center;
        align-items: center;

        div, form {
            padding: 20px;
            border-radius: 20px;
            background-color: #334;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
    }

    .level {
        flex-direction: column;
        align-items: stretch;
        flex-grow: 1;
        padding-right: 20px;

        > div:not(.visible), > form:not(.visible) {
            display: none;
        }

        .search {
            position: relative;
            padding: 0px;
            border-radius: 0px;
            background-color: transparent;
            display: flex;
            align-items: stretch;

            &.visible + .preview {
                margin-top: 20px;
            }

            span {
                padding: 0px;
                position: absolute;
                left: 20px;
                pointer-events: none;
            }

            input {
                padding: 20px;
                padding-left: 64px;
                font-size: medium;
                border: none;
                border-radius: 20px;
                background-color: #334;
    
                &::placeholder {
                    color: #778;
                    user-select: none;
                }
            }
        }

        .preview {
            .test {
                all: revert !important;
                white-space: pre !important;
            }

            &.visible + .submit {
                margin-top: 20px;
            }
            
            *:has(> input.changed) {
                position: relative;
                
                &::after {
                    content: "*";
                    display: inline-block;
                    cursor: pointer;
                    position: absolute;
                    top: 5px;
                    right: 0px;
                    transform: translate(50%, -50%);
                    font-size: 30px;
                    color: #dde;
                    font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
                    // opacity: 0;
                    pointer-events: none;
                    text-shadow: #112 2px 0px 0px, #112 1.75517px 0.958851px 0px, #112 1.0806px 1.68294px 0px, #112 0.141474px 1.99499px 0px, #112 -0.832294px 1.81859px 0px, #112 -1.60229px 1.19694px 0px, #112 -1.97998px 0.28224px 0px, #112 -1.87291px -0.701566px 0px, #112 -1.30729px -1.5136px 0px, #112 -0.421592px -1.95506px 0px, #112 0.567324px -1.91785px 0px, #112 1.41734px -1.41108px 0px, #112 1.92034px -0.558831px 0px;
                }
            }

            input {
                border: none;
                background-color: transparent;
                padding: 7px;
                border: 1px solid transparent;
                border-radius: 4px;
                font-size: 100%;
                color: #eef;
                background-color: #445;
                text-align: center;

                &::placeholder {
                    color: #778;
                    user-select: none;
                }
            }

            h1 {
                margin: 0px;
                text-align: center;
                display: flex;
                align-items: center;
                flex-wrap: wrap;
                justify-content: center;
                white-space: break-spaces;
        
                span {
                    flex-shrink: 1;

                    input {
                        border-radius: 8px;
                        font-weight: 700;
                    }
                }
        
                hr {
                    background-color: #778;
                    width: 20px;
                    margin: 10px;
                    flex-shrink: 0;
                    margin-top: 12px
                }
            }

            hr {
                margin: 0px;
                background-color: #556;
                margin: 20px 0px;
            }

            .users {
                padding: unset;
                border-radius: unset;
                background-color: unset;
                justify-content: unset;
                align-items: unset;
                flex-direction: unset;

                display: flex;
                flex-wrap: wrap;
                width: 100%;
                max-width: 400px;
        
                span {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    flex-grow: 1;
        
                    * {
                        margin: 0px;
                        font-size: large;
                        white-space: break-spaces;
                    }
        
                    h3 {
                        margin-bottom: 5px;
                        font-size: x-large;
                    }

                    &:last-of-type p {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                    }
                }
            }

            section {
                width: 100%;
                display: flex;
        
                iframe {
                    border-radius: 10px;
                    margin: 20px 0px;
                    aspect-ratio: 16 / 9;
                    margin-bottom: 0px;
                    flex-grow: 1;
                }
            
                .info {
                    width: 280px;
                    padding: 10px;
                    background-color: #223;
                    border-radius: 10px;
                    display: flex;
                    flex-wrap: wrap;
                    margin: 20px;
                    margin-right: 0px;
                    margin-bottom: 0px;
                    justify-content: space-evenly;
                    flex-direction: column;
    
                    span {
                        display: flex;
                        flex-direction: column;
                        justify-content: center;
                        align-items: center;
                        flex-grow: 1;
                        margin: 10px;
                        max-width: calc(100% - 20px);
            
                        * {
                            margin: 0px;
                            font-size: large;
                            text-align: center;
                        }
            
                        h3 {
                            margin-bottom: 5px;
                        }
        
                        p {
                            max-width: 100%;
    
                            input {
                                max-width: calc(100% - 14px);
                                background-color: #334;
                            }
                        }
                    }
            
                    .id {
                        border-radius: 5px;
                        align-items: stretch;
                        max-width: 100%;
                        background-position: center;
                        background-size: cover;
                        aspect-ratio: 16 / 9;
                        cursor: zoom-in;
            
                        div {
                            background-color: unset;
                            display: flex;
                            flex-direction: column;
                            justify-content: center;
                            align-items: center;
                            flex-grow: 1;
                            padding: 20px;
                            backdrop-filter: blur(4px);
                            border-radius: 0px;
                            margin: -10px;
                            transition: backdrop-filter 300ms ease-out;
                
                            h3 {
                                background-color: #223;
                                padding: 5px;
                                border-radius: 4px;
                            }
    
                            p:hover {
                                opacity: 1 !important;
                            }

                            h3, p {
                                opacity: 1;
                                transition: opacity 200ms ease-out;
                            }
                        }

                        &:hover div {
                            backdrop-filter: none;

                            h3, p {
                                opacity: 0.35;
                            }
                        }
                    }
                }
            }
        }

        .submit {
            flex-grow: 1;
            align-items: stretch;

            input {
                padding: 10px 7px;
                background-color: #334;
                border: 1px solid #556;
                border-radius: 4px;
                color: #dde;
                font-size: medium;
                font-family: "Whitney", Arial, Helvetica, sans-serif, "Material Symbols Outlined";
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                height: 40px;
                
                &[disabled] {
                    opacity: 0.5;
                    cursor: not-allowed;
                }

                &::placeholder {
                    color: #778;
                }
            }
        }
    }

    .selector {
        width: 275px;
        max-height: calc(100vh - 380px);
        flex-shrink: 0;

        div {
            width: 235px;
            align-items: stretch;

            &.snap {
                position: fixed;
                top: 90px
            }

            p {
                text-align: center;
            }

            button {
                padding: 10px 14px;
                border-radius: 4px;
                background-color: #334;
                border: 1px solid #556;
                text-decoration: none;
                color: #dde;
                text-align: center;
                cursor: pointer;

                &:hover, &:active {
                    background-color: #334 !important;
                    color: #dde !important;
                }

                &.selected {
                    background-color: #556 !important;
                }
            }
        }
    }
}

@media screen and (max-width: 1200px) {
    .level section {
        flex-direction: column !important;

        iframe {
            margin-bottom: 20px !important;
        }

        .info {
            margin: 0px !important;
            width: unset !important;
            flex-direction: row !important;
        }
    }
}

body:not(.touch) {
    .preview input:hover {
        border-color: #556;
    }
}

.preview input:active {
    border-color: #556;
}